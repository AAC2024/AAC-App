<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gate Design Canvas</title>
  <style>
    #canvas-container {
      position: relative;
      width: 100%;
      height: 500px;
      border: 1px solid #000;
    }
    .draggable {
      position: absolute;
      cursor: move;
    }
    #canvas {
      width: 100%;
      height: 100%;
      border: 2px solid black;
    }
    .resizeable {
      resize: both;
      overflow: auto;
    }
    button {
      margin: 5px;
    }
  </style>
</head>
<body>
  <h2>Select Your Gate Design</h2>

  <div id="canvas-container">
    <canvas id="canvas"></canvas>
    <img id="gateImage" class="draggable resizeable" src="" alt="Gate" width="200" height="200">
  </div>

  <button id="swingGateBtn">Show Swing Gates</button>
  <button id="cantileverGateBtn">Show Cantilever Gates</button>
  <button id="slidingGateBtn">Show Sliding Gates</button>

  <script>
    let currentImage = null;
    let isDragging = false;
    let dragOffsetX = 0;
    let dragOffsetY = 0;

    document.getElementById("swingGateBtn").addEventListener("click", () => {
      showGates("swing");
    });

    document.getElementById("cantileverGateBtn").addEventListener("click", () => {
      showGates("cantilever");
    });

    document.getElementById("slidingGateBtn").addEventListener("click", () => {
      showGates("sliding");
    });

    function showGates(type) {
      const img = document.getElementById("gateImage");

      switch (type) {
        case "swing":
          img.src = "https://github.com/AAC2024/AAC-App/blob/main/Hardwood%20iroko%20straight%20bar%20infill%20arch%20top%20swing%20gates.png?raw=true";
          break;
        case "cantilever":
          img.src = "https://github.com/AAC2024/AAC-App/blob/main/Partial%20infill%20hardwood%20with%20metal%20railings%20at%20the%20top%20cantilever%20gate.png?raw=true";
          break;
        case "sliding":
          img.src = "https://github.com/AAC2024/AAC-App/blob/main/bow%20top%20comp%20wood%20infill%20sliding%20gate.png?raw=true";
          break;
      }

      img.style.display = "block";
    }

    // Dragging and Resizing Logic
    const gateImage = document.getElementById("gateImage");

    gateImage.addEventListener("mousedown", (e) => {
      isDragging = true;
      dragOffsetX = e.clientX - gateImage.offsetLeft;
      dragOffsetY = e.clientY - gateImage.offsetTop;
    });

    document.addEventListener("mousemove", (e) => {
      if (isDragging) {
        gateImage.style.left = `${e.clientX - dragOffsetX}px`;
        gateImage.style.top = `${e.clientY - dragOffsetY}px`;
      }
    });

    document.addEventListener("mouseup", () => {
      isDragging = false;
    });

  </script>
</body>
</html>
